<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Recipe Finder</title>
    <style>
        body {
            font-family: 'MyCustomFont', sans-serif;
        }

        :root {
            /* Primitive Color Tokens */
            --color-white: rgba(255, 255, 255, 1);
            --color-black: rgba(0, 0, 0, 1);
            --color-cream-50: rgba(252, 252, 249, 1);
            --color-cream-100: rgba(255, 255, 253, 1);
            --color-gray-200: rgba(245, 245, 245, 1);
            --color-gray-300: rgba(167, 169, 169, 1);
            --color-gray-400: rgba(119, 124, 124, 1);
            --color-slate-500: rgba(98, 108, 113, 1);
            --color-brown-600: rgba(94, 82, 64, 1);
            --color-charcoal-700: rgba(31, 33, 33, 1);
            --color-charcoal-800: rgba(38, 40, 40, 1);
            --color-slate-900: rgba(19, 52, 59, 1);
            --color-teal-300: rgba(50, 184, 198, 1);
            --color-teal-400: rgba(45, 166, 178, 1);
            --color-teal-500: rgba(33, 128, 141, 1);
            --color-teal-600: rgba(29, 116, 128, 1);
            --color-teal-700: rgba(26, 104, 115, 1);
            --color-teal-800: rgba(41, 150, 161, 1);
            --color-red-400: rgba(255, 84, 89, 1);
            --color-red-500: rgba(192, 21, 47, 1);
            --color-orange-400: rgba(230, 129, 97, 1);
            --color-orange-500: rgba(168, 75, 47, 1);

            /* RGB versions for opacity control */
            --color-brown-600-rgb: 94, 82, 64;
            --color-teal-500-rgb: 33, 128, 141;
            --color-slate-900-rgb: 19, 52, 59;
            --color-slate-500-rgb: 98, 108, 113;
            --color-red-500-rgb: 192, 21, 47;
            --color-red-400-rgb: 255, 84, 89;
            --color-orange-500-rgb: 168, 75, 47;
            --color-orange-400-rgb: 230, 129, 97;

            /* Background color tokens (Light Mode) */
            --color-bg-1: rgba(59, 130, 246, 0.08);
            /* Light blue */
            --color-bg-2: rgba(245, 158, 11, 0.08);
            /* Light yellow */
            --color-bg-3: rgba(34, 197, 94, 0.08);
            /* Light green */
            --color-bg-4: rgba(239, 68, 68, 0.08);
            /* Light red */
            --color-bg-5: rgba(147, 51, 234, 0.08);
            /* Light purple */
            --color-bg-6: rgba(249, 115, 22, 0.08);
            /* Light orange */
            --color-bg-7: rgba(236, 72, 153, 0.08);
            /* Light pink */
            --color-bg-8: rgba(6, 182, 212, 0.08);
            /* Light cyan */

            /* Semantic Color Tokens (Light Mode) */
            --color-background: var(--color-cream-50);
            --color-surface: var(--color-cream-100);
            --color-text: var(--color-slate-900);
            --color-text-secondary: var(--color-slate-500);
            --color-primary: var(--color-teal-500);
            --color-primary-hover: var(--color-teal-600);
            --color-primary-active: var(--color-teal-700);
            --color-secondary: rgba(var(--color-brown-600-rgb), 0.12);
            --color-secondary-hover: rgba(var(--color-brown-600-rgb), 0.2);
            --color-secondary-active: rgba(var(--color-brown-600-rgb), 0.25);
            --color-border: rgba(var(--color-brown-600-rgb), 0.2);
            --color-btn-primary-text: var(--color-cream-50);
            --color-card-border: rgba(var(--color-brown-600-rgb), 0.12);
            --color-card-border-inner: rgba(var(--color-brown-600-rgb), 0.12);
            --color-error: var(--color-red-500);
            --color-success: var(--color-teal-500);
            --color-warning: var(--color-orange-500);
            --color-info: var(--color-slate-500);
            --color-focus-ring: rgba(var(--color-teal-500-rgb), 0.4);
            --color-select-caret: rgba(var(--color-slate-900-rgb), 0.8);

            /* Common style patterns */
            --focus-ring: 0 0 0 3px var(--color-focus-ring);
            --focus-outline: 2px solid var(--color-primary);
            --status-bg-opacity: 0.15;
            --status-border-opacity: 0.25;
            --select-caret-light: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23134252' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
            --select-caret-dark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23f5f5f5' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");

            /* RGB versions for opacity control */
            --color-success-rgb: 33, 128, 141;
            --color-error-rgb: 192, 21, 47;
            --color-warning-rgb: 168, 75, 47;
            --color-info-rgb: 98, 108, 113;

            /* Typography */
            --font-family-base: "FKGroteskNeue", "Geist", "Inter", -apple-system,
                BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            --font-family-mono: "Berkeley Mono", ui-monospace, SFMono-Regular, Menlo,
                Monaco, Consolas, monospace;
            --font-size-xs: 11px;
            --font-size-sm: 12px;
            --font-size-base: 14px;
            --font-size-md: 14px;
            --font-size-lg: 16px;
            --font-size-xl: 18px;
            --font-size-2xl: 20px;
            --font-size-3xl: 24px;
            --font-size-4xl: 30px;
            --font-weight-normal: 400;
            --font-weight-medium: 500;
            --font-weight-semibold: 550;
            --font-weight-bold: 600;
            --line-height-tight: 1.2;
            --line-height-normal: 1.5;
            --letter-spacing-tight: -0.01em;

            /* Spacing */
            --space-0: 0;
            --space-1: 1px;
            --space-2: 2px;
            --space-4: 4px;
            --space-6: 6px;
            --space-8: 8px;
            --space-10: 10px;
            --space-12: 12px;
            --space-16: 16px;
            --space-20: 20px;
            --space-24: 24px;
            --space-32: 32px;

            /* Border Radius */
            --radius-sm: 6px;
            --radius-base: 8px;
            --radius-md: 10px;
            --radius-lg: 12px;
            --radius-full: 9999px;

            /* Shadows */
            --shadow-xs: 0 1px 2px rgba(0, 0, 0, 0.02);
            --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.04), 0 1px 2px rgba(0, 0, 0, 0.02);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.04),
                0 2px 4px -1px rgba(0, 0, 0, 0.02);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.04),
                0 4px 6px -2px rgba(0, 0, 0, 0.02);
            --shadow-inset-sm: inset 0 1px 0 rgba(255, 255, 255, 0.15),
                inset 0 -1px 0 rgba(0, 0, 0, 0.03);

            /* Animation */
            --duration-fast: 150ms;
            --duration-normal: 250ms;
            --ease-standard: cubic-bezier(0.16, 1, 0.3, 1);

            /* Layout */
            --container-sm: 640px;
            --container-md: 768px;
            --container-lg: 1024px;
            --container-xl: 1280px;
        }

        /* Dark mode colors */
        @media (prefers-color-scheme: dark) {
            :root {
                /* RGB versions for opacity control (Dark Mode) */
                --color-gray-400-rgb: 119, 124, 124;
                --color-teal-300-rgb: 50, 184, 198;
                --color-gray-300-rgb: 167, 169, 169;
                --color-gray-200-rgb: 245, 245, 245;

                /* Background color tokens (Dark Mode) */
                --color-bg-1: rgba(29, 78, 216, 0.15);
                /* Dark blue */
                --color-bg-2: rgba(180, 83, 9, 0.15);
                /* Dark yellow */
                --color-bg-3: rgba(21, 128, 61, 0.15);
                /* Dark green */
                --color-bg-4: rgba(185, 28, 28, 0.15);
                /* Dark red */
                --color-bg-5: rgba(107, 33, 168, 0.15);
                /* Dark purple */
                --color-bg-6: rgba(194, 65, 12, 0.15);
                /* Dark orange */
                --color-bg-7: rgba(190, 24, 93, 0.15);
                /* Dark pink */
                --color-bg-8: rgba(8, 145, 178, 0.15);
                /* Dark cyan */

                /* Semantic Color Tokens (Dark Mode) */
                --color-background: var(--color-charcoal-700);
                --color-surface: var(--color-charcoal-800);
                --color-text: var(--color-gray-200);
                --color-text-secondary: rgba(var(--color-gray-300-rgb), 0.7);
                --color-primary: var(--color-teal-300);
                --color-primary-hover: var(--color-teal-400);
                --color-primary-active: var(--color-teal-800);
                --color-secondary: rgba(var(--color-gray-400-rgb), 0.15);
                --color-secondary-hover: rgba(var(--color-gray-400-rgb), 0.25);
                --color-secondary-active: rgba(var(--color-gray-400-rgb), 0.3);
                --color-border: rgba(var(--color-gray-400-rgb), 0.3);
                --color-error: var(--color-red-400);
                --color-success: var(--color-teal-300);
                --color-warning: var(--color-orange-400);
                --color-info: var(--color-gray-300);
                --color-focus-ring: rgba(var(--color-teal-300-rgb), 0.4);
                --color-btn-primary-text: var(--color-slate-900);
                --color-card-border: rgba(var(--color-gray-400-rgb), 0.2);
                --color-card-border-inner: rgba(var(--color-gray-400-rgb), 0.15);
                --shadow-inset-sm: inset 0 1px 0 rgba(255, 255, 255, 0.1),
                    inset 0 -1px 0 rgba(0, 0, 0, 0.15);
                --button-border-secondary: rgba(var(--color-gray-400-rgb), 0.2);
                --color-border-secondary: rgba(var(--color-gray-400-rgb), 0.2);
                --color-select-caret: rgba(var(--color-gray-200-rgb), 0.8);

                /* Common style patterns - updated for dark mode */
                --focus-ring: 0 0 0 3px var(--color-focus-ring);
                --focus-outline: 2px solid var(--color-primary);
                --status-bg-opacity: 0.15;
                --status-border-opacity: 0.25;
                --select-caret-light: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23134252' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
                --select-caret-dark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23f5f5f5' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");

                /* RGB versions for dark mode */
                --color-success-rgb: var(--color-teal-300-rgb);
                --color-error-rgb: var(--color-red-400-rgb);
                --color-warning-rgb: var(--color-orange-400-rgb);
                --color-info-rgb: var(--color-gray-300-rgb);
            }
        }

        /* Data attribute for manual theme switching */
        [data-color-scheme="dark"] {
            /* RGB versions for opacity control (dark mode) */
            --color-gray-400-rgb: 119, 124, 124;
            --color-teal-300-rgb: 50, 184, 198;
            --color-gray-300-rgb: 167, 169, 169;
            --color-gray-200-rgb: 245, 245, 245;

            /* Colorful background palette - Dark Mode */
            --color-bg-1: rgba(29, 78, 216, 0.15);
            /* Dark blue */
            --color-bg-2: rgba(180, 83, 9, 0.15);
            /* Dark yellow */
            --color-bg-3: rgba(21, 128, 61, 0.15);
            /* Dark green */
            --color-bg-4: rgba(185, 28, 28, 0.15);
            /* Dark red */
            --color-bg-5: rgba(107, 33, 168, 0.15);
            /* Dark purple */
            --color-bg-6: rgba(194, 65, 12, 0.15);
            /* Dark orange */
            --color-bg-7: rgba(190, 24, 93, 0.15);
            /* Dark pink */
            --color-bg-8: rgba(8, 145, 178, 0.15);
            /* Dark cyan */

            /* Semantic Color Tokens (Dark Mode) */
            --color-background: var(--color-charcoal-700);
            --color-surface: var(--color-charcoal-800);
            --color-text: var(--color-gray-200);
            --color-text-secondary: rgba(var(--color-gray-300-rgb), 0.7);
            --color-primary: var(--color-teal-300);
            --color-primary-hover: var(--color-teal-400);
            --color-primary-active: var(--color-teal-800);
            --color-secondary: rgba(var(--color-gray-400-rgb), 0.15);
            --color-secondary-hover: rgba(var(--color-gray-400-rgb), 0.25);
            --color-secondary-active: rgba(var(--color-gray-400-rgb), 0.3);
            --color-border: rgba(var(--color-gray-400-rgb), 0.3);
            --color-error: var(--color-red-400);
            --color-success: var(--color-teal-300);
            --color-warning: var(--color-orange-400);
            --color-info: var(--color-gray-300);
            --color-focus-ring: rgba(var(--color-teal-300-rgb), 0.4);
            --color-btn-primary-text: var(--color-slate-900);
            --color-card-border: rgba(var(--color-gray-400-rgb), 0.15);
            --color-card-border-inner: rgba(var(--color-gray-400-rgb), 0.15);
            --shadow-inset-sm: inset 0 1px 0 rgba(255, 255, 255, 0.1),
                inset 0 -1px 0 rgba(0, 0, 0, 0.15);
            --color-border-secondary: rgba(var(--color-gray-400-rgb), 0.2);
            --color-select-caret: rgba(var(--color-gray-200-rgb), 0.8);

            /* Common style patterns - updated for dark mode */
            --focus-ring: 0 0 0 3px var(--color-focus-ring);
            --focus-outline: 2px solid var(--color-primary);
            --status-bg-opacity: 0.15;
            --status-border-opacity: 0.25;
            --select-caret-light: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23134252' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
            --select-caret-dark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23f5f5f5' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");

            /* RGB versions for dark mode */
            --color-success-rgb: var(--color-teal-300-rgb);
            --color-error-rgb: var(--color-red-400-rgb);
            --color-warning-rgb: var(--color-orange-400-rgb);
            --color-info-rgb: var(--color-gray-300-rgb);
        }

        [data-color-scheme="light"] {
            /* RGB versions for opacity control (light mode) */
            --color-brown-600-rgb: 94, 82, 64;
            --color-teal-500-rgb: 33, 128, 141;
            --color-slate-900-rgb: 19, 52, 59;

            /* Semantic Color Tokens (Light Mode) */
            --color-background: var(--color-cream-50);
            --color-surface: var(--color-cream-100);
            --color-text: var(--color-slate-900);
            --color-text-secondary: var(--color-slate-500);
            --color-primary: var(--color-teal-500);
            --color-primary-hover: var(--color-teal-600);
            --color-primary-active: var(--color-teal-700);
            --color-secondary: rgba(var(--color-brown-600-rgb), 0.12);
            --color-secondary-hover: rgba(var(--color-brown-600-rgb), 0.2);
            --color-secondary-active: rgba(var(--color-brown-600-rgb), 0.25);
            --color-border: rgba(var(--color-brown-600-rgb), 0.2);
            --color-btn-primary-text: var(--color-cream-50);
            --color-card-border: rgba(var(--color-brown-600-rgb), 0.12);
            --color-card-border-inner: rgba(var(--color-brown-600-rgb), 0.12);
            --color-error: var(--color-red-500);
            --color-success: var(--color-teal-500);
            --color-warning: var(--color-orange-500);
            --color-info: var(--color-slate-500);
            --color-focus-ring: rgba(var(--color-teal-500-rgb), 0.4);

            /* RGB versions for light mode */
            --color-success-rgb: var(--color-teal-500-rgb);
            --color-error-rgb: var(--color-red-500-rgb);
            --color-warning-rgb: var(--color-orange-500-rgb);
            --color-info-rgb: var(--color-slate-500-rgb);
        }

        /* Base styles */
        html {
            font-size: var(--font-size-base);
            font-family: var(--font-family-base);
            line-height: var(--line-height-normal);
            color: var(--color-text);
            background-color: var(--color-background);
            -webkit-font-smoothing: antialiased;
            box-sizing: border-box;
        }

        body {
            margin: 0;
            padding: 0;
        }

        *,
        *::before,
        *::after {
            box-sizing: inherit;
        }

        /* Typography */
        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
            margin: 0;
            font-weight: var(--font-weight-semibold);
            line-height: var(--line-height-tight);
            color: var(--color-text);
            letter-spacing: var(--letter-spacing-tight);
        }

        h1 {
            font-size: var(--font-size-4xl);
        }

        h2 {
            font-size: var(--font-size-3xl);
        }

        h3 {
            font-size: var(--font-size-2xl);
        }

        h4 {
            font-size: var(--font-size-xl);
        }

        h5 {
            font-size: var(--font-size-lg);
        }

        h6 {
            font-size: var(--font-size-md);
        }

        p {
            margin: 0 0 var(--space-16) 0;
        }

        a {
            color: var(--color-primary);
            text-decoration: none;
            transition: color var(--duration-fast) var(--ease-standard);
        }

        a:hover {
            color: var(--color-primary-hover);
        }

        code,
        pre {
            font-family: var(--font-family-mono);
            font-size: calc(var(--font-size-base) * 0.95);
            background-color: var(--color-secondary);
            border-radius: var(--radius-sm);
        }

        code {
            padding: var(--space-1) var(--space-4);
        }

        pre {
            padding: var(--space-16);
            margin: var(--space-16) 0;
            overflow: auto;
            border: 1px solid var(--color-border);
        }

        pre code {
            background: none;
            padding: 0;
        }

        /* Buttons */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: var(--space-8) var(--space-16);
            border-radius: var(--radius-base);
            font-size: var(--font-size-base);
            font-weight: 500;
            line-height: 1.5;
            cursor: pointer;
            transition: all var(--duration-normal) var(--ease-standard);
            border: none;
            text-decoration: none;
            position: relative;
        }

        .btn:focus-visible {
            outline: none;
            box-shadow: var(--focus-ring);
        }

        .btn--primary {
            background: var(--color-primary);
            color: var(--color-btn-primary-text);
        }

        .btn--primary:hover {
            background: var(--color-primary-hover);
        }

        .btn--primary:active {
            background: var(--color-primary-active);
        }

        .btn--secondary {
            background: var(--color-secondary);
            color: var(--color-text);
        }

        .btn--secondary:hover {
            background: var(--color-secondary-hover);
        }

        .btn--secondary:active {
            background: var(--color-secondary-active);
        }

        .btn--outline {
            background: transparent;
            border: 1px solid var(--color-border);
            color: var(--color-text);
        }

        .btn--outline:hover {
            background: var(--color-secondary);
        }

        .btn--sm {
            padding: var(--space-4) var(--space-12);
            font-size: var(--font-size-sm);
            border-radius: var(--radius-sm);
        }

        .btn--lg {
            padding: var(--space-10) var(--space-20);
            font-size: var(--font-size-lg);
            border-radius: var(--radius-md);
        }

        .btn--full-width {
            width: 100%;
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Form elements */
        .form-control {
            display: block;
            width: 100%;
            padding: var(--space-8) var(--space-12);
            font-size: var(--font-size-md);
            line-height: 1.5;
            color: var(--color-text);
            background-color: var(--color-surface);
            border: 1px solid var(--color-border);
            border-radius: var(--radius-base);
            transition: border-color var(--duration-fast) var(--ease-standard),
                box-shadow var(--duration-fast) var(--ease-standard);
        }

        textarea.form-control {
            font-family: var(--font-family-base);
            font-size: var(--font-size-base);
        }

        select.form-control {
            padding: var(--space-8) var(--space-12);
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            background-image: var(--select-caret-light);
            background-repeat: no-repeat;
            background-position: right var(--space-12) center;
            background-size: 16px;
            padding-right: var(--space-32);
        }

        /* Add a dark mode specific caret */
        @media (prefers-color-scheme: dark) {
            select.form-control {
                background-image: var(--select-caret-dark);
            }
        }

        /* Also handle data-color-scheme */
        [data-color-scheme="dark"] select.form-control {
            background-image: var(--select-caret-dark);
        }

        [data-color-scheme="light"] select.form-control {
            background-image: var(--select-caret-light);
        }

        .form-control:focus {
            border-color: var(--color-primary);
            outline: var(--focus-outline);
        }

        .form-label {
            display: block;
            margin-bottom: var(--space-8);
            font-weight: var(--font-weight-medium);
            font-size: var(--font-size-sm);
        }

        .form-group {
            margin-bottom: var(--space-16);
        }

        /* Card component */
        .card {
            background-color: var(--color-surface);
            border-radius: var(--radius-lg);
            border: 1px solid var(--color-card-border);
            box-shadow: var(--shadow-sm);
            overflow: hidden;
            transition: box-shadow var(--duration-normal) var(--ease-standard);
        }

        .card:hover {
            box-shadow: var(--shadow-md);
        }

        .card__body {
            padding: var(--space-16);
        }

        .card__header,
        .card__footer {
            padding: var(--space-16);
            border-bottom: 1px solid var(--color-card-border-inner);
        }

        /* Status indicators - simplified with CSS variables */
        .status {
            display: inline-flex;
            align-items: center;
            padding: var(--space-6) var(--space-12);
            border-radius: var(--radius-full);
            font-weight: var(--font-weight-medium);
            font-size: var(--font-size-sm);
        }

        .status--success {
            background-color: rgba(var(--color-success-rgb, 33, 128, 141),
                    var(--status-bg-opacity));
            color: var(--color-success);
            border: 1px solid rgba(var(--color-success-rgb, 33, 128, 141), var(--status-border-opacity));
        }

        .status--error {
            background-color: rgba(var(--color-error-rgb, 192, 21, 47),
                    var(--status-bg-opacity));
            color: var(--color-error);
            border: 1px solid rgba(var(--color-error-rgb, 192, 21, 47), var(--status-border-opacity));
        }

        .status--warning {
            background-color: rgba(var(--color-warning-rgb, 168, 75, 47),
                    var(--status-bg-opacity));
            color: var(--color-warning);
            border: 1px solid rgba(var(--color-warning-rgb, 168, 75, 47), var(--status-border-opacity));
        }

        .status--info {
            background-color: rgba(var(--color-info-rgb, 98, 108, 113),
                    var(--status-bg-opacity));
            color: var(--color-info);
            border: 1px solid rgba(var(--color-info-rgb, 98, 108, 113), var(--status-border-opacity));
        }

        /* Container layout */
        .container {
            width: 100%;
            margin-right: auto;
            margin-left: auto;
            padding-right: var(--space-16);
            padding-left: var(--space-16);
        }

        @media (min-width: 640px) {
            .container {
                max-width: var(--container-sm);
            }
        }

        @media (min-width: 768px) {
            .container {
                max-width: var(--container-md);
            }
        }

        @media (min-width: 1024px) {
            .container {
                max-width: var(--container-lg);
            }
        }

        @media (min-width: 1280px) {
            .container {
                max-width: var(--container-xl);
            }
        }

        /* Utility classes */
        .flex {
            display: flex;
        }

        .flex-col {
            flex-direction: column;
        }

        .items-center {
            align-items: center;
        }

        .justify-center {
            justify-content: center;
        }

        .justify-between {
            justify-content: space-between;
        }

        .gap-4 {
            gap: var(--space-4);
        }

        .gap-8 {
            gap: var(--space-8);
        }

        .gap-16 {
            gap: var(--space-16);
        }

        .m-0 {
            margin: 0;
        }

        .mt-8 {
            margin-top: var(--space-8);
        }

        .mb-8 {
            margin-bottom: var(--space-8);
        }

        .mx-8 {
            margin-left: var(--space-8);
            margin-right: var(--space-8);
        }

        .my-8 {
            margin-top: var(--space-8);
            margin-bottom: var(--space-8);
        }

        .p-0 {
            padding: 0;
        }

        .py-8 {
            padding-top: var(--space-8);
            padding-bottom: var(--space-8);
        }

        .px-8 {
            padding-left: var(--space-8);
            padding-right: var(--space-8);
        }

        .py-16 {
            padding-top: var(--space-16);
            padding-bottom: var(--space-16);
        }

        .px-16 {
            padding-left: var(--space-16);
            padding-right: var(--space-16);
        }

        .block {
            display: block;
        }

        .hidden {
            display: none;
        }

        /* Accessibility */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border-width: 0;
        }

        :focus-visible {
            outline: var(--focus-outline);
            outline-offset: 2px;
        }

        /* Dark mode specifics */
        [data-color-scheme="dark"] .btn--outline {
            border: 1px solid var(--color-border-secondary);
        }

        @font-face {
            font-family: 'FKGroteskNeue';
            src: url('https://r2cdn.perplexity.ai/fonts/FKGroteskNeue.woff2') format('woff2');
        }

        /* END PERPLEXITY DESIGN SYSTEM */
        /* Header */
        .header {
            background-color: var(--color-surface);
            border-bottom: 1px solid var(--color-border);
            padding: var(--space-16) 0;
        }

        .header-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: var(--space-8);
            font-weight: var(--font-weight-bold);
            font-size: var(--font-size-xl);
        }

        .logo-icon {
            font-size: var(--font-size-2xl);
        }

        .nav {
            display: flex;
            gap: var(--space-24);
        }

        .nav-link {
            color: var(--color-text-secondary);
            text-decoration: none;
            font-weight: var(--font-weight-medium);
            transition: color var(--duration-fast) var(--ease-standard);
        }

        .nav-link:hover {
            color: var(--color-primary);
        }

        /* Hero Section */
        .hero {
            background: linear-gradient(135deg, var(--color-bg-1), var(--color-bg-2));
            padding: var(--space-32) 0;
            text-align: center;
        }

        .hero-content {
            max-width: 600px;
            margin: 0 auto;
        }

        .hero-title {
            font-size: var(--font-size-4xl);
            margin-bottom: var(--space-16);
            color: var(--color-text);
        }

        .hero-subtitle {
            font-size: var(--font-size-lg);
            color: var(--color-text-secondary);
            line-height: var(--line-height-normal);
        }

        /* Main Content */
        .main {
            padding: var(--space-32) 0;
        }

        /* Input Section */
        .input-section {
            display: grid;
            gap: var(--space-24);
            margin-bottom: var(--space-32);
        }

        .input-method {
            background-color: var(--color-surface);
            border: 1px solid var(--color-card-border);
            border-radius: var(--radius-lg);
            padding: var(--space-24);
            box-shadow: var(--shadow-sm);
        }

        .input-title {
            font-size: var(--font-size-xl);
            font-weight: var(--font-weight-semibold);
            margin-bottom: var(--space-8);
            color: var(--color-text);
        }

        .input-description {
            color: var(--color-text-secondary);
            margin-bottom: var(--space-16);
        }

        /* Drag & Drop Area */
        .drag-drop-area {
            border: 2px dashed var(--color-border);
            border-radius: var(--radius-md);
            padding: var(--space-32);
            text-align: center;
            transition: all var(--duration-normal) var(--ease-standard);
            cursor: pointer;
        }

        .drag-drop-area:hover,
        .drag-drop-area.dragover {
            border-color: var(--color-primary);
            background-color: var(--color-bg-3);
        }

        .drag-drop-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: var(--space-16);
        }

        .upload-icon {
            font-size: var(--font-size-4xl);
            color: var(--color-primary);
        }

        /* Camera Section */
        .camera-container {
            display: flex;
            flex-direction: column;
            gap: var(--space-16);
        }

        .camera-preview {
            position: relative;
            background-color: var(--color-black);
            border-radius: var(--radius-md);
            overflow: hidden;
            aspect-ratio: 4/3;
        }

        #videoElement {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .camera-controls {
            display: flex;
            gap: var(--space-8);
            justify-content: center;
        }

        /* Voice Input */
        .voice-input-container {
            display: flex;
            align-items: center;
            gap: var(--space-16);
        }

        .voice-btn {
            width: 60px;
            height: 60px;
            border-radius: var(--radius-full);
            background-color: var(--color-primary);
            color: var(--color-btn-primary-text);
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: var(--font-size-2xl);
            transition: all var(--duration-normal) var(--ease-standard);
        }

        .voice-btn:hover {
            background-color: var(--color-primary-hover);
        }

        .voice-btn.listening {
            animation: pulse 2s infinite;
        }

        .voice-content {
            flex: 1;
        }

        .voice-status {
            color: var(--color-text-secondary);
            font-style: italic;
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.1);
            }

            100% {
                transform: scale(1);
            }
        }

        /* Text Input */
        .text-input-container {
            display: flex;
            flex-direction: column;
            gap: var(--space-16);
        }

        .search-container {
            display: flex;
            gap: var(--space-8);
        }

        .search-input {
            flex: 1;
        }

        .search-btn {
            padding: var(--space-8) var(--space-16);
            min-width: auto;
        }

        .ingredient-tags {
            display: flex;
            flex-wrap: wrap;
            gap: var(--space-8);
        }

        .ingredient-tag {
            background-color: var(--color-bg-1);
            color: var(--color-text);
            padding: var(--space-6) var(--space-12);
            border-radius: var(--radius-full);
            font-size: var(--font-size-sm);
            display: flex;
            align-items: center;
            gap: var(--space-6);
        }

        .tag-remove {
            background: none;
            border: none;
            color: var(--color-text-secondary);
            cursor: pointer;
            font-size: var(--font-size-lg);
            line-height: 1;
            padding: 0;
        }

        .tag-remove:hover {
            color: var(--color-error);
        }

        /* Advanced Options */
        .advanced-section {
            margin-bottom: var(--space-32);
        }

        .advanced-toggle {
            background: var(--color-surface);
            border: 1px solid var(--color-border);
            border-radius: var(--radius-md);
            padding: var(--space-16);
            width: 100%;
            display: flex;
            align-items: center;
            gap: var(--space-8);
            cursor: pointer;
            font-size: var(--font-size-base);
            color: var(--color-text);
            transition: all var(--duration-fast) var(--ease-standard);
        }

        .advanced-toggle:hover {
            background-color: var(--color-secondary);
        }

        .advanced-icon {
            font-size: var(--font-size-lg);
        }

        .toggle-arrow {
            margin-left: auto;
            transition: transform var(--duration-fast) var(--ease-standard);
        }

        .advanced-toggle.expanded .toggle-arrow {
            transform: rotate(180deg);
        }

        .advanced-panel {
            background-color: var(--color-surface);
            border: 1px solid var(--color-border);
            border-top: none;
            border-radius: 0 0 var(--radius-md) var(--radius-md);
            padding: var(--space-24);
            display: none;
        }

        .advanced-panel.show {
            display: block;
        }

        .advanced-grid {
            display: grid;
            gap: var(--space-20);
            margin-bottom: var(--space-24);
        }

        .checkbox-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: var(--space-8);
        }

        .checkbox-label {
            display: flex;
            align-items: center;
            gap: var(--space-8);
            cursor: pointer;
            font-size: var(--font-size-sm);
        }

        .checkbox-label input[type="checkbox"] {
            margin: 0;
        }

        .search-recipes-btn {
            width: 100%;
        }

        /* Loading Section */
        .loading-section {
            text-align: center;
            padding: var(--space-32);
        }

        .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid var(--color-border);
            border-top: 4px solid var(--color-primary);
            border-radius: var(--radius-full);
            animation: spin 1s linear infinite;
            margin: 0 auto var(--space-16);
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        .loading-text {
            color: var(--color-text-secondary);
            font-style: italic;
        }

        /* Results Section */
        .results-section {
            margin-bottom: var(--space-32);
        }

        .results-title {
            font-size: var(--font-size-3xl);
            margin-bottom: var(--space-24);
            color: var(--color-text);
        }

        .results-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: var(--space-24);
        }

        .recipe-card {
            background-color: var(--color-surface);
            border: 1px solid var(--color-card-border);
            border-radius: var(--radius-lg);
            overflow: hidden;
            cursor: pointer;
            transition: all var(--duration-normal) var(--ease-standard);
            box-shadow: var(--shadow-sm);
        }

        .recipe-card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        .recipe-card-image {
            width: 100%;
            height: 200px;
            background-color: var(--color-bg-1);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: var(--font-size-4xl);
            position: relative;
        }

        .recipe-card-content {
            padding: var(--space-16);
        }

        .recipe-card-title {
            font-size: var(--font-size-lg);
            font-weight: var(--font-weight-semibold);
            margin-bottom: var(--space-8);
            color: var(--color-text);
        }

        .recipe-card-description {
            color: var(--color-text-secondary);
            font-size: var(--font-size-sm);
            margin-bottom: var(--space-12);
            line-height: var(--line-height-normal);
        }

        .recipe-card-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: var(--space-8);
        }

        .recipe-meta-item {
            display: flex;
            align-items: center;
            gap: var(--space-4);
            font-size: var(--font-size-xs);
            color: var(--color-text-secondary);
        }

        .difficulty-badge {
            background-color: var(--color-bg-3);
            color: var(--color-text);
            padding: var(--space-4) var(--space-8);
            border-radius: var(--radius-sm);
            font-size: var(--font-size-xs);
            font-weight: var(--font-weight-medium);
        }

        /* Modal */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal.hidden {
            display: none;
        }

        .modal-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
        }

        .modal-content {
            position: relative;
            background-color: var(--color-surface);
            border-radius: var(--radius-lg);
            max-width: 800px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: var(--shadow-lg);
        }

        .modal-close {
            position: absolute;
            top: var(--space-16);
            right: var(--space-16);
            background: none;
            border: none;
            font-size: var(--font-size-3xl);
            color: var(--color-text-secondary);
            cursor: pointer;
            z-index: 1;
        }

        .modal-close:hover {
            color: var(--color-text);
        }

        .modal-body {
            padding: var(--space-24);
        }

        .recipe-header {
            display: grid;
            grid-template-columns: 200px 1fr;
            gap: var(--space-24);
            margin-bottom: var(--space-32);
        }

        .recipe-image-container {
            position: relative;
        }

        .recipe-image {
            width: 200px;
            height: 200px;
            background-color: var(--color-bg-1);
            border-radius: var(--radius-lg);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: var(--font-size-4xl);
        }

        .recipe-badges {
            position: absolute;
            top: var(--space-8);
            right: var(--space-8);
            display: flex;
            flex-direction: column;
            gap: var(--space-4);
        }

        .badge {
            padding: var(--space-4) var(--space-8);
            border-radius: var(--radius-sm);
            font-size: var(--font-size-xs);
            font-weight: var(--font-weight-medium);
        }

        .difficulty-badge {
            background-color: var(--color-bg-3);
            color: var(--color-text);
        }

        .time-badge {
            background-color: var(--color-bg-2);
            color: var(--color-text);
        }

        .recipe-info {
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .recipe-title {
            font-size: var(--font-size-2xl);
            margin-bottom: var(--space-16);
            color: var(--color-text);
        }

        .recipe-stats {
            display: flex;
            gap: var(--space-24);
        }

        .stat {
            display: flex;
            flex-direction: column;
            gap: var(--space-4);
        }

        .stat-label {
            font-size: var(--font-size-sm);
            color: var(--color-text-secondary);
        }

        .stat-value {
            font-size: var(--font-size-lg);
            font-weight: var(--font-weight-semibold);
            color: var(--color-text);
        }

        .recipe-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--space-32);
            margin-bottom: var(--space-32);
        }

        .ingredients-section,
        .instructions-section {
            display: flex;
            flex-direction: column;
        }

        .ingredients-section h3,
        .instructions-section h3 {
            font-size: var(--font-size-xl);
            margin-bottom: var(--space-16);
            color: var(--color-text);
        }

        .ingredients-list,
        .instructions-list {
            margin: 0;
            padding-left: var(--space-20);
        }

        .ingredients-list li,
        .instructions-list li {
            margin-bottom: var(--space-8);
            line-height: var(--line-height-normal);
            color: var(--color-text);
        }

        .recipe-actions {
            display: flex;
            gap: var(--space-12);
            justify-content: center;
        }

        /* Footer */
        .footer {
            background-color: var(--color-surface);
            border-top: 1px solid var(--color-border);
            padding: var(--space-32) 0;
            text-align: center;
            color: var(--color-text-secondary);
        }

        /* Responsive Design */
        .desktop-only {
            display: block;
        }

        .mobile-only {
            display: none;
        }

        @media (max-width: 768px) {
            .desktop-only {
                display: none;
            }

            .mobile-only {
                display: block;
            }

            .hero-title {
                font-size: var(--font-size-3xl);
            }

            .nav {
                gap: var(--space-16);
            }

            .nav-link {
                font-size: var(--font-size-sm);
            }

            .voice-input-container {
                flex-direction: column;
                text-align: center;
            }

            .recipe-header {
                grid-template-columns: 1fr;
                text-align: center;
            }

            .recipe-image {
                margin: 0 auto;
            }

            .recipe-content {
                grid-template-columns: 1fr;
                gap: var(--space-24);
            }

            .recipe-actions {
                flex-direction: column;
            }

            .advanced-grid {
                grid-template-columns: 1fr;
            }

            .checkbox-group {
                grid-template-columns: 1fr;
            }

            .camera-controls {
                flex-direction: column;
                align-items: center;
            }
        }

        @media (max-width: 480px) {
            .results-grid {
                grid-template-columns: 1fr;
            }

            .modal-content {
                width: 95%;
            }

            .recipe-stats {
                justify-content: center;
                flex-wrap: wrap;
            }
        }

        /* Creative Loading Animation */
        .loader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, #ff6b35 0%, #ff9500 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 0.8s, visibility 0.8s;
        }

        .loader.hidden {
            opacity: 0;
            visibility: hidden;
        }

        .pan-container {
            position: relative;
            width: 240px;
            height: 240px;
        }

        .pan {
            position: absolute;
            width: 180px;
            height: 80px;
            background: #3a3a3a;
            border-radius: 0 0 40% 40%;
            bottom: 40px;
            left: 50%;
            transform: translateX(-50%);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
        }

        .pan-handle {
            position: absolute;
            width: 80px;
            height: 20px;
            background: #3a3a3a;
            border-radius: 10px;
            top: 40px;
            right: -60px;
            transform: rotate(-20deg);
        }

        .food {
            position: absolute;
            width: 120px;
            height: 120px;
            background: #e74c3c;
            border-radius: 50%;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .sizzle {
            position: absolute;
            width: 100%;
            height: 10px;
            background: #ffd700;
            border-radius: 5px;
            bottom: 20px;
            animation: sizzle 1.5s infinite;
        }

        .sizzle:nth-child(2) {
            bottom: 40px;
            left: 20px;
            width: 80%;
            animation-delay: 0.2s;
        }

        .sizzle:nth-child(3) {
            bottom: 60px;
            left: 40px;
            width: 60%;
            animation-delay: 0.4s;
        }

        .ingredient {
            position: absolute;
            border-radius: 50%;
            animation: float 4s infinite ease-in-out;
        }

        .tomato {
            width: 25px;
            height: 25px;
            background: #e74c3c;
            top: 20px;
            left: 30px;
            animation-delay: 0s;
        }

        .cheese {
            width: 35px;
            height: 15px;
            background: #ffd700;
            top: 50px;
            right: 20px;
            animation-delay: 0.4s;
        }

        .mushroom {
            width: 30px;
            height: 20px;
            background: #8e6e5d;
            border-radius: 50% 50% 0 0;
            bottom: 40px;
            left: 40px;
            animation-delay: 0.8s;
        }

        .mushroom::before {
            content: '';
            position: absolute;
            width: 20px;
            height: 15px;
            background: #d7ccc8;
            border-radius: 50%;
            top: -8px;
            left: 5px;
        }

        .bubbles {
            position: absolute;
            bottom: 30px;
            width: 100%;
            display: flex;
            justify-content: center;
        }

        .bubble {
            width: 12px;
            height: 12px;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 50%;
            margin: 0 8px;
            animation: bubble-rise 4s infinite ease-in;
        }

        .bubble:nth-child(1) {
            animation-delay: 0s;
        }

        .bubble:nth-child(2) {
            animation-delay: 0.3s;
        }

        .bubble:nth-child(3) {
            animation-delay: 0.6s;
        }

        .bubble:nth-child(4) {
            animation-delay: 0.9s;
        }

        .bubble:nth-child(5) {
            animation-delay: 1.2s;
        }

        .loading-text {
            color: white;
            font-size: 28px;
            font-weight: 700;
            margin-top: 40px;
            text-align: center;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
            position: relative;
        }

        .loading-text::after {
            content: '';
            display: block;
            width: 100%;
            height: 4px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 2px;
            margin-top: 15px;
            overflow: hidden;
        }

        .loading-text::before {
            content: '';
            position: absolute;
            height: 4px;
            background: white;
            border-radius: 2px;
            top: 100%;
            left: 0;
            width: 0;
            animation: loading-bar 3s infinite;
        }

        @keyframes sizzle {

            0%,
            100% {
                opacity: 0.3;
                transform: scaleX(0.8);
            }

            50% {
                opacity: 1;
                transform: scaleX(1.2);
            }
        }

        @keyframes float {

            0%,
            100% {
                transform: translateY(0) rotate(0deg);
            }

            25% {
                transform: translateY(-10px) rotate(10deg);
            }

            50% {
                transform: translateY(0) rotate(0deg);
            }

            75% {
                transform: translateY(-10px) rotate(-10deg);
            }
        }

        @keyframes bubble-rise {
            0% {
                transform: translateY(0) scale(0.5);
                opacity: 0;
            }

            10% {
                opacity: 1;
            }

            90% {
                opacity: 0.7;
            }

            100% {
                transform: translateY(-80vh) scale(1.2);
                opacity: 0;
            }
        }

        @keyframes loading-bar {
            0% {
                width: 0;
                left: 0;
            }

            50% {
                width: 100%;
                left: 0;
            }

            100% {
                width: 0;
                left: 100%;
            }
        }
    </style>
</head>

<body>
    <!-- Creative Loading Animation -->
    <div class="loader" id="loader">
        <div class="pan-container">
            <div class="pan"></div>
            <div class="pan-handle"></div>
            <div class="food">
                <div class="sizzle"></div>
                <div class="sizzle"></div>
                <div class="sizzle"></div>
                <div class="ingredient tomato"></div>
                <div class="ingredient cheese"></div>
                <div class="ingredient mushroom"></div>
            </div>
        </div>

        <div class="loading-text">Cooking Up Something Delicious</div>

        <div class="bubbles">
            <div class="bubble"></div>
            <div class="bubble"></div>
            <div class="bubble"></div>
            <div class="bubble"></div>
            <div class="bubble"></div>
        </div>
    </div>

    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <span class="logo-icon"></span>
                    <span class="logo-text">AI Recipe Finder</span>
                </div>
                <nav class="nav">
                    <a href="#" class="nav-link">Home</a>
                    <a href="#" class="nav-link">Recipes</a>
                    <a href="#" class="nav-link">About</a>
                </nav>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <div class="hero-content">
                <h1 class="hero-title">Discover Amazing Recipes with AI</h1>
                <p class="hero-subtitle">Upload ingredients, use voice commands, or type to find perfect recipes
                    tailored to what you have</p>
            </div>
        </div>
    </section>

    <!-- Main Content -->
    <main class="main">
        <div class="container">
            <!-- Input Methods -->
            <div class="input-section">
                <!-- Desktop Drag & Drop (Hidden on mobile) -->
                <div id="dragDropSection" class="input-method desktop-only">
                    <div class="drag-drop-area" id="dragDropArea">
                        <div class="drag-drop-content">
                            <div class="upload-icon"></div>
                            <h3 class="input-title">Drag & Drop Images</h3>
                            <p class="input-description">Drop ingredient photos here or click to browse</p>
                            <button type="button" class="btn btn--secondary" id="browseBtn">Browse Files</button>
                            <input type="file" id="fileInput" multiple accept="image/*" style="display: none;">
                        </div>
                    </div>
                </div>

                <!-- Mobile Camera (Hidden on desktop) -->
                <div id="cameraSection" class="input-method mobile-only">
                    <div class="camera-container">
                        <div class="camera-preview">
                            <video id="videoElement" autoplay muted></video>
                            <canvas id="captureCanvas" style="display: none;"></canvas>
                        </div>
                        <div class="camera-controls">
                            <button type="button" class="btn btn--primary" id="startCameraBtn">Start Camera</button>
                            <button type="button" class="btn btn--primary" id="captureBtn" disabled>Capture</button>
                            <button type="button" class="btn btn--secondary" id="switchCameraBtn" disabled>Switch
                                Camera</button>
                        </div>
                    </div>
                </div>

                <!-- Voice Input -->
                <div class="input-method">
                    <div class="voice-input-container">
                        <button type="button" class="voice-btn" id="voiceBtn">
                            <span class="voice-icon"></span>
                        </button>
                        <div class="voice-content">
                            <h3 class="input-title">Voice Input</h3>
                            <p class="voice-status" id="voiceStatus">Say your ingredients...</p>
                        </div>
                    </div>
                </div>

                <!-- Manual Text Input -->
                <div class="input-method">
                    <div class="text-input-container">
                        <h3 class="input-title">Manual Input</h3>
                        <div class="search-container">
                            <input type="text" id="ingredientInput" class="form-control search-input"
                                placeholder="Type ingredients..." />
                            <button type="button" class="btn btn--primary search-btn" id="addIngredientBtn"></button>
                        </div>
                        <div class="ingredient-tags" id="ingredientTags"></div>
                    </div>
                </div>
            </div>

            <!-- Advanced Options -->
            <div class="advanced-section">
                <button type="button" class="advanced-toggle" id="advancedToggle">
                    <span class="advanced-icon"></span>
                    <span>Advanced Options</span>
                    <span class="toggle-arrow" id="toggleArrow"></span>
                </button>
                <div class="advanced-panel" id="advancedPanel">
                    <div class="advanced-grid">
                        <div class="form-group">
                            <label class="form-label">Dietary Preferences</label>
                            <div class="checkbox-group">
                                <label class="checkbox-label">
                                    <input type="checkbox" value="vegetarian"> Vegetarian
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" value="vegan"> Vegan
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" value="gluten-free"> Gluten-Free
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" value="dairy-free"> Dairy-Free
                                </label>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="form-label" for="cookingTime">Cooking Time</label>
                            <select id="cookingTime" class="form-control">
                                <option value="">Any time</option>
                                <option value="15">Under 15 minutes</option>
                                <option value="30">Under 30 minutes</option>
                                <option value="45">Under 45 minutes</option>
                                <option value="60">Under 1 hour</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label" for="difficulty">Difficulty Level</label>
                            <select id="difficulty" class="form-control">
                                <option value="">Any difficulty</option>
                                <option value="easy">Easy</option>
                                <option value="medium">Medium</option>
                                <option value="hard">Hard</option>
                            </select>
                        </div>
                    </div>
                    <button type="button" class="btn btn--primary search-recipes-btn" id="searchRecipesBtn">Find
                        Recipes</button>
                </div>
            </div>

            <!-- Loading Section -->
            <div class="loading-section hidden" id="loadingSection">
                <div class="spinner"></div>
                <p class="loading-text">AI is analyzing your ingredients...</p>
            </div>

            <!-- Results Section -->
            <div class="results-section" id="resultsSection">
                <h2 class="results-title">Recipe Suggestions</h2>
                <div class="results-grid" id="resultsGrid">
                    <!-- Recipe cards will be inserted here -->
                </div>
            </div>
        </div>
    </main>

    <!-- Recipe Detail Modal -->
    <div class="modal hidden" id="recipeModal">
        <div class="modal-overlay" id="modalOverlay"></div>
        <div class="modal-content">
            <button type="button" class="modal-close" id="modalClose">&times;</button>
            <div class="modal-body">
                <div class="recipe-header">
                    <div class="recipe-image-container">
                        <div class="recipe-image" id="modalRecipeImage"></div>
                        <div class="recipe-badges">
                            <span class="badge difficulty-badge" id="modalDifficulty">Easy</span>
                            <span class="badge time-badge" id="modalTime">25 min</span>
                        </div>
                    </div>
                    <div class="recipe-info">
                        <h2 class="recipe-title" id="modalTitle">Recipe Title</h2>
                        <div class="recipe-stats">
                            <div class="stat">
                                <span class="stat-label">Servings:</span>
                                <span class="stat-value" id="modalServings">4</span>
                            </div>
                            <div class="stat">
                                <span class="stat-label">Calories:</span>
                                <span class="stat-value" id="modalCalories">420</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="recipe-content">
                    <div class="ingredients-section">
                        <h3>Ingredients</h3>
                        <ul class="ingredients-list" id="modalIngredients">
                            <!-- Ingredients will be inserted here -->
                        </ul>
                    </div>
                    <div class="instructions-section">
                        <h3>Instructions</h3>
                        <ol class="instructions-list" id="modalInstructions">
                            <!-- Instructions will be inserted here -->
                        </ol>
                    </div>
                </div>
                <div class="recipe-actions">
                    <button type="button" class="btn btn--primary">Add to Shopping List</button>
                    <button type="button" class="btn btn--secondary">Start Timer</button>
                    <button type="button" class="btn btn--outline">Scale Recipe</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <p>&copy; 2025 AI Recipe Finder. Made with  for food lovers.</p>
            </div>
        </div>
    </footer>

    <script>
        // Sample recipe data
        const SAMPLE_RECIPES = [
            {
                "id": 1,
                "title": "Creamy Tomato Basil Pasta",
                "description": "Rich and creamy pasta with fresh basil and tomatoes, perfect for a quick dinner",
                "cookingTime": "25",
                "difficulty": "Easy",
                "servings": "4",
                "calories": "420",
                "image": "",
                "ingredients": [
                    "12 oz penne pasta",
                    "2 cups heavy cream",
                    "1 can (14 oz) crushed tomatoes",
                    "3 cloves garlic, minced",
                    "1/2 cup fresh basil, chopped",
                    "1/2 cup parmesan cheese, grated",
                    "2 tbsp olive oil",
                    "Salt and pepper to taste"
                ],
                "instructions": [
                    "Cook pasta according to package directions until al dente",
                    "Heat olive oil in a large pan over medium heat",
                    "Add minced garlic and cook for 1 minute until fragrant",
                    "Add crushed tomatoes and simmer for 5 minutes",
                    "Pour in heavy cream and stir to combine",
                    "Add cooked pasta and toss to coat",
                    "Stir in fresh basil and parmesan cheese",
                    "Season with salt and pepper, serve immediately"
                ]
            },
            {
                "id": 2,
                "title": "Grilled Chicken Caesar Salad",
                "description": "Classic Caesar salad topped with perfectly grilled chicken breast",
                "cookingTime": "20",
                "difficulty": "Easy",
                "servings": "2",
                "calories": "350",
                "image": "",
                "ingredients": [
                    "2 chicken breasts",
                    "1 large romaine lettuce head",
                    "1/2 cup caesar dressing",
                    "1/4 cup parmesan cheese, grated",
                    "1 cup croutons",
                    "2 tbsp olive oil",
                    "1 tsp garlic powder",
                    "Salt and pepper to taste"
                ],
                "instructions": [
                    "Season chicken breasts with salt, pepper, and garlic powder",
                    "Heat grill or grill pan to medium-high heat",
                    "Grill chicken for 6-7 minutes per side until fully cooked",
                    "Let chicken rest for 5 minutes, then slice",
                    "Wash and chop romaine lettuce",
                    "Toss lettuce with caesar dressing",
                    "Top with sliced chicken, croutons, and parmesan",
                    "Serve immediately while chicken is still warm"
                ]
            },
            {
                "id": 3,
                "title": "Vegetarian Buddha Bowl",
                "description": "Nutritious bowl packed with quinoa, roasted vegetables, and tahini dressing",
                "cookingTime": "35",
                "difficulty": "Medium",
                "servings": "3",
                "calories": "380",
                "image": "",
                "ingredients": [
                    "1 cup quinoa",
                    "1 sweet potato, cubed",
                    "1 cup broccoli florets",
                    "1 cup chickpeas, drained",
                    "2 cups spinach",
                    "1/4 cup tahini",
                    "2 tbsp lemon juice",
                    "2 tbsp olive oil",
                    "1 tsp cumin",
                    "Salt to taste"
                ],
                "instructions": [
                    "Preheat oven to 400F (200C)",
                    "Cook quinoa according to package instructions",
                    "Toss sweet potato, broccoli, and chickpeas with olive oil and cumin",
                    "Roast vegetables for 25 minutes until tender",
                    "Mix tahini with lemon juice and water to make dressing",
                    "Assemble bowls with quinoa base",
                    "Top with roasted vegetables and fresh spinach",
                    "Drizzle with tahini dressing before serving"
                ]
            },
            {
                "id": 4,
                "title": "Honey Garlic Salmon",
                "description": "Flaky salmon glazed with sweet and savory honey garlic sauce",
                "cookingTime": "18",
                "difficulty": "Easy",
                "servings": "4",
                "calories": "310",
                "image": "",
                "ingredients": [
                    "4 salmon fillets",
                    "3 tbsp honey",
                    "3 cloves garlic, minced",
                    "2 tbsp soy sauce",
                    "1 tbsp olive oil",
                    "1 tbsp lemon juice",
                    "1 tsp ginger, grated",
                    "Green onions for garnish"
                ],
                "instructions": [
                    "Preheat oven to 425F (220C)",
                    "Mix honey, garlic, soy sauce, lemon juice, and ginger",
                    "Place salmon on lined baking sheet",
                    "Brush salmon with half of the honey mixture",
                    "Bake for 12-15 minutes until fish flakes easily",
                    "Heat remaining sauce in a small pan until thickened",
                    "Drizzle cooked salmon with reduced sauce",
                    "Garnish with chopped green onions"
                ]
            },
            {
                "id": 5,
                "title": "Mushroom Risotto",
                "description": "Creamy Italian rice dish with mixed mushrooms and parmesan",
                "cookingTime": "40",
                "difficulty": "Medium",
                "servings": "4",
                "calories": "290",
                "image": "",
                "ingredients": [
                    "1 1/2 cups arborio rice",
                    "4 cups chicken or vegetable broth",
                    "2 cups mixed mushrooms, sliced",
                    "1/2 cup white wine",
                    "1/2 cup parmesan cheese",
                    "1 onion, diced",
                    "3 tbsp butter",
                    "2 tbsp olive oil",
                    "Fresh herbs for garnish"
                ],
                "instructions": [
                    "Heat broth in a separate pot and keep warm",
                    "Saut mushrooms in olive oil until golden, set aside",
                    "In same pan, cook onion in butter until soft",
                    "Add rice and stir for 2 minutes until translucent",
                    "Pour in wine and stir until absorbed",
                    "Add warm broth one ladle at a time, stirring constantly",
                    "Continue for 20 minutes until rice is creamy",
                    "Stir in mushrooms and parmesan, garnish with herbs"
                ]
            },
            {
                "id": 6,
                "title": "Chocolate Chip Cookies",
                "description": "Classic soft and chewy chocolate chip cookies, perfect for dessert",
                "cookingTime": "15",
                "difficulty": "Easy",
                "servings": "24",
                "calories": "180",
                "image": "",
                "ingredients": [
                    "2 1/4 cups all-purpose flour",
                    "1 cup butter, softened",
                    "3/4 cup brown sugar",
                    "1/2 cup granulated sugar",
                    "2 large eggs",
                    "2 tsp vanilla extract",
                    "1 tsp baking soda",
                    "1 tsp salt",
                    "2 cups chocolate chips"
                ],
                "instructions": [
                    "Preheat oven to 375F (190C)",
                    "Mix butter with both sugars until fluffy",
                    "Beat in eggs and vanilla extract",
                    "Combine flour, baking soda, and salt in separate bowl",
                    "Gradually mix dry ingredients into wet mixture",
                    "Stir in chocolate chips until evenly distributed",
                    "Drop rounded tablespoons onto ungreased cookie sheets",
                    "Bake 9-11 minutes until golden brown, cool on sheets"
                ]
            }
        ];

        class RecipeFinderApp {
            constructor() {
                this.ingredients = [];
                this.currentStream = null;
                this.facingMode = 'environment'; // 'user' for front, 'environment' for back
                this.isListening = false;
                this.recognition = null;

                this.initializeElements();
                this.setupEventListeners();
                this.checkResponsiveElements();
                this.setupSpeechRecognition();
                this.displaySampleRecipes();
            }

            initializeElements() {
                // Drag & Drop elements
                this.dragDropArea = document.getElementById('dragDropArea');
                this.browseBtn = document.getElementById('browseBtn');
                this.fileInput = document.getElementById('fileInput');

                // Camera elements
                this.videoElement = document.getElementById('videoElement');
                this.captureCanvas = document.getElementById('captureCanvas');
                this.startCameraBtn = document.getElementById('startCameraBtn');
                this.captureBtn = document.getElementById('captureBtn');
                this.switchCameraBtn = document.getElementById('switchCameraBtn');

                // Voice elements
                this.voiceBtn = document.getElementById('voiceBtn');
                this.voiceStatus = document.getElementById('voiceStatus');

                // Text input elements
                this.ingredientInput = document.getElementById('ingredientInput');
                this.addIngredientBtn = document.getElementById('addIngredientBtn');
                this.ingredientTags = document.getElementById('ingredientTags');

                // Advanced options
                this.advancedToggle = document.getElementById('advancedToggle');
                this.advancedPanel = document.getElementById('advancedPanel');
                this.toggleArrow = document.getElementById('toggleArrow');
                this.searchRecipesBtn = document.getElementById('searchRecipesBtn');

                // Loading and results
                this.loadingSection = document.getElementById('loadingSection');
                this.resultsSection = document.getElementById('resultsSection');
                this.resultsGrid = document.getElementById('resultsGrid');

                // Modal elements
                this.recipeModal = document.getElementById('recipeModal');
                this.modalOverlay = document.getElementById('modalOverlay');
                this.modalClose = document.getElementById('modalClose');
                this.modalTitle = document.getElementById('modalTitle');
                this.modalRecipeImage = document.getElementById('modalRecipeImage');
                this.modalDifficulty = document.getElementById('modalDifficulty');
                this.modalTime = document.getElementById('modalTime');
                this.modalServings = document.getElementById('modalServings');
                this.modalCalories = document.getElementById('modalCalories');
                this.modalIngredients = document.getElementById('modalIngredients');
                this.modalInstructions = document.getElementById('modalInstructions');

                // Loader element
                this.loader = document.getElementById('loader');
            }

            setupEventListeners() {
                // Drag & Drop events
                if (this.dragDropArea) {
                    this.dragDropArea.addEventListener('dragover', (e) => this.handleDragOver(e));
                    this.dragDropArea.addEventListener('dragleave', (e) => this.handleDragLeave(e));
                    this.dragDropArea.addEventListener('drop', (e) => this.handleDrop(e));
                    this.dragDropArea.addEventListener('click', () => this.fileInput.click());
                }

                if (this.browseBtn) {
                    this.browseBtn.addEventListener('click', () => this.fileInput.click());
                }

                if (this.fileInput) {
                    this.fileInput.addEventListener('change', (e) => this.handleFileSelect(e));
                }

                // Camera events
                if (this.startCameraBtn) {
                    this.startCameraBtn.addEventListener('click', () => this.startCamera());
                }

                if (this.captureBtn) {
                    this.captureBtn.addEventListener('click', () => this.captureImage());
                }

                if (this.switchCameraBtn) {
                    this.switchCameraBtn.addEventListener('click', () => this.switchCamera());
                }

                // Voice events
                if (this.voiceBtn) {
                    this.voiceBtn.addEventListener('click', () => this.toggleVoiceRecognition());
                }

                // Text input events
                if (this.ingredientInput) {
                    this.ingredientInput.addEventListener('keypress', (e) => {
                        if (e.key === 'Enter') {
                            e.preventDefault();
                            this.addIngredient();
                        }
                    });
                }

                if (this.addIngredientBtn) {
                    this.addIngredientBtn.addEventListener('click', () => this.addIngredient());
                }

                // Advanced options - Fixed event listener
                if (this.advancedToggle) {
                    this.advancedToggle.addEventListener('click', () => this.toggleAdvancedOptions());
                }

                if (this.searchRecipesBtn) {
                    this.searchRecipesBtn.addEventListener('click', () => this.searchRecipes());
                }

                // Modal events - Fixed event listeners
                if (this.modalClose) {
                    this.modalClose.addEventListener('click', () => this.closeModal());
                }

                if (this.modalOverlay) {
                    this.modalOverlay.addEventListener('click', () => this.closeModal());
                }

                // Responsive events
                window.addEventListener('resize', () => this.checkResponsiveElements());
            }

            handleDragOver(e) {
                e.preventDefault();
                this.dragDropArea.classList.add('dragover');
            }

            handleDragLeave(e) {
                e.preventDefault();
                this.dragDropArea.classList.remove('dragover');
            }

            handleDrop(e) {
                e.preventDefault();
                this.dragDropArea.classList.remove('dragover');
                const files = Array.from(e.dataTransfer.files);
                this.processFiles(files);
            }

            handleFileSelect(e) {
                const files = Array.from(e.target.files);
                this.processFiles(files);
            }

            processFiles(files) {
                const imageFiles = files.filter(file => file.type.startsWith('image/'));
                if (imageFiles.length > 0) {
                    // Simulate processing images for ingredients
                    this.showLoader();
                    setTimeout(() => {
                        this.hideLoader();
                        this.addIngredient('tomato'); // Simulate extracted ingredient
                        this.displayMessage('Images processed! Found ingredients added.');
                    }, 2000);
                }
            }

            async startCamera() {
                try {
                    if (this.currentStream) {
                        this.currentStream.getTracks().forEach(track => track.stop());
                    }

                    const constraints = {
                        video: {
                            facingMode: this.facingMode,
                            width: { ideal: 640 },
                            height: { ideal: 480 }
                        }
                    };

                    this.currentStream = await navigator.mediaDevices.getUserMedia(constraints);
                    this.videoElement.srcObject = this.currentStream;

                    this.startCameraBtn.textContent = 'Stop Camera';
                    this.startCameraBtn.onclick = () => this.stopCamera();
                    this.captureBtn.disabled = false;
                    this.switchCameraBtn.disabled = false;
                } catch (error) {
                    console.error('Camera access error:', error);
                    this.displayMessage('Camera access denied or not available');
                }
            }

            stopCamera() {
                if (this.currentStream) {
                    this.currentStream.getTracks().forEach(track => track.stop());
                    this.currentStream = null;
                }
                this.videoElement.srcObject = null;
                this.startCameraBtn.textContent = 'Start Camera';
                this.startCameraBtn.onclick = () => this.startCamera();
                this.captureBtn.disabled = true;
                this.switchCameraBtn.disabled = true;
            }

            captureImage() {
                if (!this.currentStream) return;

                const canvas = this.captureCanvas;
                const context = canvas.getContext('2d');
                const video = this.videoElement;

                canvas.width = video.videoWidth;
                canvas.height = video.videoHeight;
                context.drawImage(video, 0, 0);

                // Simulate image analysis
                this.showLoader();
                setTimeout(() => {
                    this.hideLoader();
                    this.addIngredient('captured ingredient');
                    this.displayMessage('Image captured and analyzed!');
                }, 1500);
            }

            switchCamera() {
                this.facingMode = this.facingMode === 'user' ? 'environment' : 'user';
                this.startCamera();
            }

            setupSpeechRecognition() {
                if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
                    const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
                    this.recognition = new SpeechRecognition();
                    this.recognition.continuous = false;
                    this.recognition.interimResults = false;
                    this.recognition.lang = 'en-US';

                    this.recognition.onstart = () => {
                        this.isListening = true;
                        this.voiceBtn.classList.add('listening');
                        this.voiceStatus.textContent = 'Listening... speak your ingredients';
                    };

                    this.recognition.onresult = (event) => {
                        const transcript = event.results[0][0].transcript.toLowerCase();
                        const ingredients = transcript.split(/\s*(?:and|,|\s)\s*/).filter(word => word.trim());

                        ingredients.forEach(ingredient => {
                            if (ingredient && ingredient.length > 2) {
                                this.addIngredient(ingredient.trim());
                            }
                        });

                        this.voiceStatus.textContent = `Added: ${ingredients.join(', ')}`;
                    };

                    this.recognition.onerror = (event) => {
                        console.error('Speech recognition error:', event.error);
                        this.voiceStatus.textContent = 'Speech recognition error. Please try again.';
                        this.isListening = false;
                        this.voiceBtn.classList.remove('listening');
                    };

                    this.recognition.onend = () => {
                        this.isListening = false;
                        this.voiceBtn.classList.remove('listening');
                        setTimeout(() => {
                            this.voiceStatus.textContent = 'Say your ingredients...';
                        }, 3000);
                    };
                } else {
                    this.voiceStatus.textContent = 'Speech recognition not supported';
                }
            }

            toggleVoiceRecognition() {
                if (!this.recognition) return;

                if (this.isListening) {
                    this.recognition.stop();
                } else {
                    this.recognition.start();
                }
            }

            addIngredient(ingredient = null) {
                const value = ingredient || this.ingredientInput.value.trim();
                if (!value) return;

                if (!this.ingredients.includes(value.toLowerCase())) {
                    this.ingredients.push(value.toLowerCase());
                    this.renderIngredientTags();
                }

                if (this.ingredientInput) {
                    this.ingredientInput.value = '';
                }
            }

            removeIngredient(ingredient) {
                const index = this.ingredients.indexOf(ingredient);
                if (index > -1) {
                    this.ingredients.splice(index, 1);
                    this.renderIngredientTags();
                }
            }

            renderIngredientTags() {
                if (!this.ingredientTags) return;

                this.ingredientTags.innerHTML = '';
                this.ingredients.forEach(ingredient => {
                    const tag = document.createElement('div');
                    tag.className = 'ingredient-tag';
                    tag.innerHTML = `
                <span>${ingredient}</span>
                <button type="button" class="tag-remove" onclick="app.removeIngredient('${ingredient}')">&times;</button>
              `;
                    this.ingredientTags.appendChild(tag);
                });
            }

            // Fixed toggle function
            toggleAdvancedOptions() {
                if (!this.advancedPanel || !this.advancedToggle) return;

                const isExpanded = this.advancedPanel.classList.contains('show');

                if (isExpanded) {
                    this.advancedPanel.classList.remove('show');
                    this.advancedToggle.classList.remove('expanded');
                } else {
                    this.advancedPanel.classList.add('show');
                    this.advancedToggle.classList.add('expanded');
                }
            }

            searchRecipes() {
                if (this.ingredients.length === 0) {
                    this.displayMessage('Please add some ingredients first!');
                    return;
                }

                this.showLoader();
                this.showLoading();

                setTimeout(() => {
                    this.hideLoader();
                    this.hideLoading();
                    this.displayFilteredRecipes();
                }, 2000);
            }

            displayFilteredRecipes() {
                // Simple filtering based on ingredients
                const filteredRecipes = SAMPLE_RECIPES.filter(recipe => {
                    return this.ingredients.some(ingredient =>
                        recipe.ingredients.some(recipeIngredient =>
                            recipeIngredient.toLowerCase().includes(ingredient)
                        )
                    );
                });

                if (filteredRecipes.length === 0) {
                    this.displaySampleRecipes(); // Show all recipes if no matches
                    this.displayMessage('No exact matches found. Showing all available recipes.');
                } else {
                    this.renderRecipes(filteredRecipes);
                }
            }

            displaySampleRecipes() {
                this.renderRecipes(SAMPLE_RECIPES);
            }

            renderRecipes(recipes) {
                if (!this.resultsGrid) return;

                this.resultsGrid.innerHTML = '';

                recipes.forEach(recipe => {
                    const card = document.createElement('div');
                    card.className = 'recipe-card';

                    // Fixed click handler - use addEventListener instead of onclick
                    card.addEventListener('click', () => this.openModal(recipe));

                    card.innerHTML = `
                <div class="recipe-card-image">${recipe.image}</div>
                <div class="recipe-card-content">
                  <h3 class="recipe-card-title">${recipe.title}</h3>
                  <p class="recipe-card-description">${recipe.description}</p>
                  <div class="recipe-card-meta">
                    <div class="recipe-meta-item">
                      <span> ${recipe.cookingTime} min</span>
                    </div>
                    <div class="recipe-meta-item">
                      <span> ${recipe.servings} servings</span>
                    </div>
                    <div class="difficulty-badge">${recipe.difficulty}</div>
                  </div>
                </div>
              `;

                    this.resultsGrid.appendChild(card);
                });
            }

            // Fixed modal function
            openModal(recipe) {
                console.log('Opening modal for recipe:', recipe.title); // Debug log

                if (this.modalTitle) this.modalTitle.textContent = recipe.title;
                if (this.modalRecipeImage) this.modalRecipeImage.textContent = recipe.image;
                if (this.modalDifficulty) this.modalDifficulty.textContent = recipe.difficulty;
                if (this.modalTime) this.modalTime.textContent = `${recipe.cookingTime} min`;
                if (this.modalServings) this.modalServings.textContent = recipe.servings;
                if (this.modalCalories) this.modalCalories.textContent = `${recipe.calories} cal`;

                // Render ingredients
                if (this.modalIngredients) {
                    this.modalIngredients.innerHTML = '';
                    recipe.ingredients.forEach(ingredient => {
                        const li = document.createElement('li');
                        li.innerHTML = `<span style="margin-right: 8px;"></span>${ingredient}`;
                        this.modalIngredients.appendChild(li);
                    });
                }

                // Render instructions
                if (this.modalInstructions) {
                    this.modalInstructions.innerHTML = '';
                    recipe.instructions.forEach((instruction, index) => {
                        const li = document.createElement('li');
                        li.textContent = instruction;
                        this.modalInstructions.appendChild(li);
                    });
                }

                // Show modal
                if (this.recipeModal) {
                    this.recipeModal.classList.remove('hidden');
                    document.body.style.overflow = 'hidden';
                }
            }

            closeModal() {
                console.log('Closing modal'); // Debug log
                if (this.recipeModal) {
                    this.recipeModal.classList.add('hidden');
                    document.body.style.overflow = 'auto';
                }
            }

            showLoading() {
                if (this.loadingSection) {
                    this.loadingSection.classList.remove('hidden');
                }
            }

            hideLoading() {
                if (this.loadingSection) {
                    this.loadingSection.classList.add('hidden');
                }
            }

            showLoader() {
                if (this.loader) {
                    this.loader.classList.remove('hidden');
                }
            }

            hideLoader() {
                if (this.loader) {
                    this.loader.classList.add('hidden');
                }
            }

            displayMessage(message) {
                // Simple toast-like message
                const toast = document.createElement('div');
                toast.style.cssText = `
              position: fixed;
              top: 20px;
              right: 20px;
              background: var(--color-primary);
              color: var(--color-btn-primary-text);
              padding: 12px 24px;
              border-radius: 8px;
              z-index: 1001;
              max-width: 300px;
            `;
                toast.textContent = message;
                document.body.appendChild(toast);

                setTimeout(() => {
                    toast.remove();
                }, 3000);
            }

            checkResponsiveElements() {
                const isMobile = window.innerWidth <= 768;
                const desktopElements = document.querySelectorAll('.desktop-only');
                const mobileElements = document.querySelectorAll('.mobile-only');

                desktopElements.forEach(el => {
                    el.style.display = isMobile ? 'none' : 'block';
                });

                mobileElements.forEach(el => {
                    el.style.display = isMobile ? 'block' : 'none';
                });
            }
        }

        // Initialize the app when the DOM is loaded
        document.addEventListener('DOMContentLoaded', () => {
            window.app = new RecipeFinderApp();

            // Hide loader when page is fully loaded
            setTimeout(() => {
                document.getElementById('loader').classList.add('hidden');
            }, 2000);
        });

        // Handle keyboard navigation
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && window.app) {
                window.app.closeModal();
            }
        });
    </script>
</body>

</html>